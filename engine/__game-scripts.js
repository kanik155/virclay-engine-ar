var xrcontroller=pc.createScript("xrcontroller");xrcontroller.attributes.add("disableWorldTracking",{type:"boolean"}),xrcontroller.attributes.add("sceneRootEntity",{type:"entity"}),xrcontroller.prototype.initialize=function(){this.initXr(),this.app.scenes.list().length>1&&this.loadSpace(this.app.scenes.list()[1].name)},xrcontroller.prototype.loadSpace=function(e){let t=this.app.scenes.find(e);this.app.scenes.loadSceneHierarchy(t.url,((e,t)=>{e?console.error(e):(t.reparent(this.sceneRootEntity),this.shadowmaterial=this.sceneRootEntity.findByName("XRShadowPlane").model.material,this.shadowmaterial&&XRExtras.PlayCanvas.makeShadowMaterial({pc:pc,material:this.shadowmaterial}))}))},xrcontroller.prototype.initXr=function(){const e=this.disableWorldTracking,t=XRExtras.PlayCanvas.findOneCamera(this.entity);XRExtras.Loading.showLoading({onxrloaded:(({pcCamera:t,pcApp:a},r)=>()=>{XR8.XrController.configure({disableWorldTracking:e}),XR8.PlayCanvas.runXr({pcCamera:t,pcApp:a},r)})({pcCamera:t,pcApp:this.app},[XRExtras.AlmostThere.pipelineModule(),XRExtras.Loading.pipelineModule(),XRExtras.RuntimeError.pipelineModule()])})};var taprecenter=pc.createScript("taprecenter");taprecenter.prototype.initialize=function(){this.app.touch.on(pc.EVENT_TOUCHSTART,(e=>{1===e.touches.length&&this.app.fire("xr:recenter")}))};